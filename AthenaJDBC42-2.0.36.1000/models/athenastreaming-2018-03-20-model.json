{
  "version":"2.0",
  "metadata":{
    "apiVersion":"2018-03-20",
    "endpointPrefix":"athenastreaming",
    "jsonVersion":"1.1",
    "protocol":"rest-json",
    "serviceFullName":"Amazon Athena Streaming",
    "signatureVersion":"v4",
    "signingName":"athena",
    "uid":"athenastreaming-2018-03-20"
  },
  "operations":{
    "GetQueryResultsStream":{
      "name":"GetQueryResultsStream",
      "http":{
        "method":"GET",
        "requestUri":"/"
      },
      "input":{"shape":"GetQueryResultsStreamInput"},
      "output":{"shape":"GetQueryResultsStreamOutput"},
      "errors":[
        {"shape":"InternalServerException"},
        {"shape":"InvalidRequestException"},
        {"shape":"TooManyRequestsException"}
      ],
      "internalonly":true
    }
  },
  "shapes":{
    "ErrorCode":{
      "type":"string",
      "max":256,
      "min":1
    },
    "ErrorMessage":{"type":"string"},
    "GetQueryResultsStreamInput":{
      "type":"structure",
      "required":["QueryExecutionId"],
      "members":{
        "QueryExecutionId":{
          "shape":"QueryExecutionId",
          "location":"querystring",
          "locationName":"QueryExecutionId"
        },
        "NextToken":{
          "shape":"Token",
          "location":"querystring",
          "locationName":"NextToken"
        },
        "MaxResults":{
          "shape":"MaxQueryResults",
          "location":"querystring",
          "locationName":"MaxResults"
        }
      }
    },
    "GetQueryResultsStreamOutput":{
      "type":"structure",
      "members":{
        "Results":{"shape":"ResultsBlob"},
        "UpdateCount":{
          "shape":"Long",
          "location":"header",
          "locationName":"x-amzn-athena-update-count"
        }
      },
      "payload":"Results"
    },
    "InternalServerException":{
      "type":"structure",
      "members":{
        "Message":{"shape":"ErrorMessage"}
      },
      "exception":true,
      "fault":true
    },
    "InvalidRequestException":{
      "type":"structure",
      "members":{
        "AthenaErrorCode":{"shape":"ErrorCode"},
        "Message":{"shape":"ErrorMessage"}
      },
      "exception":true
    },
    "Long":{
      "type":"long",
      "box":true
    },
    "MaxQueryResults":{
      "type":"integer",
      "box":true,
      "max":10000000,
      "min":1
    },
    "QueryExecutionId":{
      "type":"string",
      "pattern":"[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}"
    },
    "ResultsBlob":{
      "type":"blob",
      "streaming":true
    },
    "Token":{
      "type":"string",
      "max":500,
      "min":1
    },
    "TooManyRequestsException":{
      "type":"structure",
      "members":{
        "Message":{"shape":"ErrorMessage"}
      },
      "exception":true
    }
  }
}
